<html>
	<head>
		<title>Veck - API & Examples</title>
	</head>
	<body>

		<script>
			var schema = []
			var v = Veck

			var document_1 = "The big cat sat on the big mat and had a large hat"
			var bag_1 = {}


			// This will turn the paragraph, into an array of words e.g. ['the','big','cat','sat','on','the','mat' ...]
			var documentArr = document_1
			.toLowerCase() // Make all the words in this document lowercase
			.replace(/[^a-z ]/,'') // Get rid of all non (letter or space) characters
			.split(' ') // Split into an array by every space

			// Get rid of any null characters (this occurs when there are double spaces in the document)
			documentArr.filter((i) => (i))

			//The following will generate the "bag" i.e. the histogram of term frequencies
			//e.g {'the': 2,'big': 1,'cat': 1,'sat': 1,'on': 1,'mat': 1 ...}
			.forEach((i) => {
				// If this word has never been seen before, add it to the vector schema
				if (schema.indexOf(i) == -1) {
					schema.push(i)
				}
				// If this word is already in the bag of words, increase the frequency, otherwise set it to one
				bag[i] && bag[i]++ || bag[i] = 1
			})

			// Now we can create the Veck vector for that word
			// Essentially the schema is an array of all the words in the entire corpus.
			// Now we're substituting the term frequency from our bag into the schema, thus making a vector of frequencies
			// e.g.
			// schema = ['world','earth','mars','the','big','cat','sat','on']
			// vector = [0,0,0,2,1,1,1,1]
			var doc1_vector = v(schema.map((word) => (bag_1[word] || 0)))
		</script>



	</body>
</html>